import json

def extract_keys(obj, prefix=''):
    keys = set()

    if isinstance(obj, dict):
        for k, v in obj.items():
            full_key = f"{prefix}.{k}" if prefix else k
            keys.add(full_key)
            keys |= extract_keys(v, full_key)

    elif isinstance(obj, list):
        for item in obj:
            keys |= extract_keys(item, prefix)

    return keys

def compare_json_keys(json1, json2):
    keys1 = extract_keys(json1)
    keys2 = extract_keys(json2)

    print("Danh sách param của body1:", sorted(keys1))
    print("Danh sách param của body2:", sorted(keys2))

    if keys1 == keys2:
        return "trùng"
    elif keys1.issubset(keys2):
        return "1 là con của 2"
    elif keys2.issubset(keys1):
        return "2 là con của 1"
    else:
        return "2 body khác nhau (2 tập hợp độc lập)"

# ===== JSON body trực tiếp =====
body1 = {
    "a": 1,
    "b": {
        "c": 3
    },
    "d": [
        {
            "f": 3
        }
    ]
}

body2 = {
    "a": 1,
    "b": {
        "c": 3,
        "extra": 5
    },
    "d": [
        {
            "f": 3,
            "g": 7
        }
    ],
    "h": 9
}

# ===== So sánh và in kết quả =====
print("Kết luận:", compare_json_keys(body1, body2))
